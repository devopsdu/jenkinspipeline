pipeline {
   agent {
    label 'agent1'
    }
    stages {
        stage('checkout'){
            steps{
               git branch: 'master', url: 'https://github.com/thulasiv199/jenkinspipeline.git'
            }
        }
            stage('build'){
                steps{
                    sh "echo $PATH"
                    sh "mvn clean install" 
                }
            }
            stage('test'){
               steps{
                  sh "mvn test"
                  junit allowEmptyResults: true, testResults: 'target/surefire-reports/*.xml'
                  }
                  }
            
            
        
  }
  }
